{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import\"./style.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=process.env.REACT_APP_API_BASE||\"http://127.0.0.1:8000\";export default function App(){// === State ===\nconst[message,setMessage]=useState(\"\");const[messages,setMessages]=useState([]);// store all chat messages\nconst[isTyping,setIsTyping]=useState(false);// === Send message to backend ===\nconst sendMessage=async()=>{if(!message.trim())return;// add user's message immediately\nconst newUserMessage={role:\"user\",content:message};setMessages(prev=>[...prev,newUserMessage]);setMessage(\"\");// clear input\nsetIsTyping(true);try{var _res$data$reply,_res$data;const res=await axios.post(\"\".concat(API_BASE,\"/api/ask/\"),{message});const reply=((_res$data$reply=(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.reply)!==null&&_res$data$reply!==void 0?_res$data$reply:\"Sorry, I didn’t understand that.\").toString();// typing animation for Aurora’s reply\nlet currentText=\"\";const newBotMessage={role:\"assistant\",content:\"\"};setMessages(prev=>[...prev,newBotMessage]);for(let i=0;i<reply.length;i++){await new Promise(resolve=>setTimeout(resolve,20));currentText+=reply[i];// update the last message progressively\nsetMessages(prev=>{const updated=[...prev];updated[updated.length-1]={role:\"assistant\",content:currentText};return updated;});}setIsTyping(false);}catch(error){console.error(error);setMessages(prev=>[...prev,{role:\"assistant\",content:\"⚠️ Error connecting to server.\"}]);setIsTyping(false);}};// === Handle Enter ===\nconst handleKeyPress=e=>{if(e.key===\"Enter\"&&!e.shiftKey){e.preventDefault();sendMessage();}};// === UI ===\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"relative min-h-screen w-full flex flex-col bg-black text-white\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"aurora-bg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 flex flex-col justify-between h-screen max-w-2xl mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center py-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold text-aurora drop-shadow-md\",children:\"Aurora\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1 tracking-wide\",children:\"Demo Version \\u2022 Created by Parsa Meshkini\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-3 bg-transparent backdrop-blur-sm rounded-lg space-y-3\",children:[messages.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 italic text-center\",children:\"Ask Aurora something \\u2728\"}):messages.map((msg,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg max-w-[80%] \".concat(msg.role===\"user\"?\"bg-emerald-500/20 self-end text-right\":\"bg-white/10 self-start text-left border border-white/10\"),children:/*#__PURE__*/_jsx(\"p\",{className:\"whitespace-pre-line\",children:msg.content})},i)),isTyping&&/*#__PURE__*/_jsx(\"p\",{className:\"typing text-green-300 mt-2 animate-pulse\",children:\"Aurora is typing...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mt-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"flex-1 resize-none p-3 rounded-lg bg-gray-900/70 text-gray-200 focus:outline-none border border-white/10\",rows:\"2\",placeholder:\"Type your message...\",value:message,onChange:e=>setMessage(e.target.value),onKeyDown:handleKeyPress}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,className:\"ml-2 px-6 py-3 rounded-lg bg-emerald-400/80 hover:bg-emerald-400 text-black font-semibold transition-all\",children:\"Send\"})]})]})]});}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","API_BASE","process","env","REACT_APP_API_BASE","App","message","setMessage","messages","setMessages","isTyping","setIsTyping","sendMessage","trim","newUserMessage","role","content","prev","_res$data$reply","_res$data","res","post","concat","reply","data","toString","currentText","newBotMessage","i","length","Promise","resolve","setTimeout","updated","error","console","handleKeyPress","e","key","shiftKey","preventDefault","className","children","id","map","msg","rows","placeholder","value","onChange","target","onKeyDown","onClick"],"sources":["C:/Users/PARSA/Desktop/Projects/aurora-agent/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./style.css\";\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://127.0.0.1:8000\";\n\nexport default function App() {\n  // === State ===\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]); // store all chat messages\n  const [isTyping, setIsTyping] = useState(false);\n\n  // === Send message to backend ===\n  const sendMessage = async () => {\n    if (!message.trim()) return;\n\n    // add user's message immediately\n    const newUserMessage = { role: \"user\", content: message };\n    setMessages((prev) => [...prev, newUserMessage]);\n\n    setMessage(\"\"); // clear input\n    setIsTyping(true);\n\n    try {\n      const res = await axios.post(`${API_BASE}/api/ask/`, { message });\n      const reply = (res.data?.reply ?? \"Sorry, I didn’t understand that.\").toString();\n\n      // typing animation for Aurora’s reply\n      let currentText = \"\";\n      const newBotMessage = { role: \"assistant\", content: \"\" };\n      setMessages((prev) => [...prev, newBotMessage]);\n\n      for (let i = 0; i < reply.length; i++) {\n        await new Promise((resolve) => setTimeout(resolve, 20));\n        currentText += reply[i];\n\n        // update the last message progressively\n        setMessages((prev) => {\n          const updated = [...prev];\n          updated[updated.length - 1] = { role: \"assistant\", content: currentText };\n          return updated;\n        });\n      }\n\n      setIsTyping(false);\n    } catch (error) {\n      console.error(error);\n      setMessages((prev) => [\n        ...prev,\n        { role: \"assistant\", content: \"⚠️ Error connecting to server.\" },\n      ]);\n      setIsTyping(false);\n    }\n  };\n\n  // === Handle Enter ===\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  // === UI ===\n  return (\n    <div className=\"relative min-h-screen w-full flex flex-col bg-black text-white\">\n      {/* Aurora Background */}\n      <div id=\"aurora-bg\" />\n\n      <div className=\"relative z-10 flex flex-col justify-between h-screen max-w-2xl mx-auto p-4\">\n        {/* Logo / Header */}\n        <div className=\"flex flex-col justify-center items-center py-3\">\n          <h1 className=\"text-3xl font-semibold text-aurora drop-shadow-md\">Aurora</h1>\n          <p className=\"text-xs text-gray-400 mt-1 tracking-wide\">\n            Demo Version • Created by Parsa Meshkini\n          </p>\n        </div>\n\n\n        {/* Messages Area */}\n        <div className=\"flex-1 overflow-y-auto p-3 bg-transparent backdrop-blur-sm rounded-lg space-y-3\">\n          {messages.length === 0 ? (\n            <p className=\"text-gray-500 italic text-center\">\n              Ask Aurora something ✨\n            </p>\n          ) : (\n            messages.map((msg, i) => (\n              <div\n                key={i}\n                className={`p-3 rounded-lg max-w-[80%] ${\n                  msg.role === \"user\"\n                    ? \"bg-emerald-500/20 self-end text-right\"\n                    : \"bg-white/10 self-start text-left border border-white/10\"\n                }`}\n              >\n                <p className=\"whitespace-pre-line\">{msg.content}</p>\n              </div>\n            ))\n          )}\n\n          {isTyping && (\n            <p className=\"typing text-green-300 mt-2 animate-pulse\">\n              Aurora is typing...\n            </p>\n          )}\n        </div>\n\n        {/* Input */}\n        <div className=\"flex mt-4\">\n          <textarea\n            className=\"flex-1 resize-none p-3 rounded-lg bg-gray-900/70 text-gray-200 focus:outline-none border border-white/10\"\n            rows=\"2\"\n            placeholder=\"Type your message...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyDown={handleKeyPress}\n          />\n          <button\n            onClick={sendMessage}\n            className=\"ml-2 px-6 py-3 rounded-lg bg-emerald-400/80 hover:bg-emerald-400 text-black font-semibold transition-all\"\n          >\n            Send\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}